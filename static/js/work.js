// Generated by CoffeeScript 2.7.0
// static/coffee/work.coffee
var addWorkBtn, allWorkLogs, applyFilters, cancelWorkBtn, deleteModal, escapeHtml, filteredLogs, formatCurrency, loadWorkLogs, updateDisplay, updateStats, workForm, workModal;

allWorkLogs = [];

filteredLogs = [];

// Load work logs on page load
window.addEventListener('load', function() {
  loadWorkLogs();
  // Set default date to today
  return document.getElementById('work-date').value = new Date().toISOString().split('T')[0];
});

// Load and display work logs
loadWorkLogs = async function() {
  var err, response;
  try {
    response = (await fetch('/work-logs?limit=1000'));
    allWorkLogs = (await response.json());
    return applyFilters();
  } catch (error1) {
    err = error1;
    console.error('Error loading work logs:', err);
    return document.getElementById('work-table-body').innerHTML = '<tr><td colspan="5" style="text-align: center;">Error loading work logs</td></tr>';
  }
};

// Apply filters and update display
applyFilters = function() {
  var monthFilter, workerFilter;
  workerFilter = document.getElementById('worker-filter').value;
  monthFilter = document.getElementById('month-filter').value;
  filteredLogs = allWorkLogs.filter(function(log) {
    var logDate, logMonth;
    if (workerFilter && log.worker !== workerFilter) {
      // Worker filter
      return false;
    }
    // Month filter
    if (monthFilter) {
      logDate = new Date(log.start_time);
      logMonth = `${logDate.getFullYear()}-${String(logDate.getMonth() + 1).padStart(2, '0')}`;
      if (logMonth !== monthFilter) {
        return false;
      }
    }
    return true;
  });
  updateDisplay();
  return updateStats();
};

// Update the work logs table
updateDisplay = function() {
  var tbody;
  tbody = document.getElementById('work-table-body');
  if (filteredLogs.length === 0) {
    tbody.innerHTML = '<tr><td colspan="5" style="text-align: center;">No work entries found</td></tr>';
    return;
  }
  return tbody.innerHTML = filteredLogs.map(function(log) {
    var date, hours, startTime, time;
    startTime = new Date(log.start_time);
    date = startTime.toLocaleDateString();
    time = startTime.toLocaleTimeString([], {
      hour: '2-digit',
      minute: '2-digit'
    });
    hours = (log.duration / 60).toFixed(2);
    return `<tr>
  <td>${date} ${time}</td>
  <td>${log.worker}</td>
  <td>${hours} hours</td>
  <td>${escapeHtml(log.description)}</td>
  <td class="actions">
    <button class="btn btn-secondary" onclick="editWork('${log.id}')">Edit</button>
    <button class="btn btn-danger" onclick="deleteWork('${log.id}')">Delete</button>
  </td>
</tr>`;
  }).join('');
};

// Update statistics
updateStats = function() {
  var totalCredit, totalEntries, totalHours, totalMinutes;
  totalEntries = filteredLogs.length;
  totalMinutes = filteredLogs.reduce((function(sum, log) {
    return sum + log.duration;
  }), 0);
  totalHours = totalMinutes / 60;
  totalCredit = filteredLogs.filter(function(log) {
    return log.billable && log.worker === 'lyndzie';
  }).reduce((function(sum, log) {
    return sum + (log.duration / 60 * 50);
  }), 0);
  document.getElementById('total-entries').textContent = totalEntries;
  document.getElementById('total-hours').textContent = totalHours.toFixed(2);
  return document.getElementById('total-credit').textContent = formatCurrency(totalCredit);
};

// Filter event listeners
document.getElementById('worker-filter').addEventListener('change', applyFilters);

document.getElementById('month-filter').addEventListener('change', applyFilters);

document.getElementById('clear-filters').addEventListener('click', function() {
  document.getElementById('worker-filter').value = '';
  document.getElementById('month-filter').value = '';
  return applyFilters();
});

// Modal handling
workModal = document.getElementById('work-modal');

deleteModal = document.getElementById('delete-modal');

addWorkBtn = document.getElementById('add-work-btn');

cancelWorkBtn = document.getElementById('cancel-work');

workForm = document.getElementById('work-form');

// Add work button
addWorkBtn.addEventListener('click', function() {
  document.getElementById('modal-title').textContent = 'Add Work Entry';
  document.getElementById('work-form').reset();
  document.getElementById('work-id').value = '';
  document.getElementById('work-date').value = new Date().toISOString().split('T')[0];
  document.getElementById('work-billable').checked = true;
  return workModal.style.display = 'block';
});

// Cancel button
cancelWorkBtn.addEventListener('click', function() {
  return workModal.style.display = 'none';
});

// Edit work function
window.editWork = function(id) {
  var endDate, log, startDate;
  log = allWorkLogs.find(function(l) {
    return l.id === id;
  });
  if (!log) {
    return;
  }
  document.getElementById('modal-title').textContent = 'Edit Work Entry';
  document.getElementById('work-id').value = log.id;
  document.getElementById('work-worker').value = log.worker;
  startDate = new Date(log.start_time);
  document.getElementById('work-date').value = startDate.toISOString().split('T')[0];
  document.getElementById('work-start-time').value = startDate.toTimeString().slice(0, 5);
  endDate = new Date(log.end_time);
  document.getElementById('work-end-time').value = endDate.toTimeString().slice(0, 5);
  document.getElementById('work-description').value = log.description;
  document.getElementById('work-billable').checked = log.billable !== false;
  return workModal.style.display = 'block';
};

// Delete work function
window.deleteWork = function(id) {
  document.getElementById('delete-work-id').value = id;
  return deleteModal.style.display = 'block';
};

// Work form submission
workForm.addEventListener('submit', async function(e) {
  var billable, data, date, description, duration, endDateTime, endTime, err, error, id, response, startDateTime, startTime, worker;
  e.preventDefault();
  id = document.getElementById('work-id').value;
  worker = document.getElementById('work-worker').value;
  date = document.getElementById('work-date').value;
  startTime = document.getElementById('work-start-time').value;
  endTime = document.getElementById('work-end-time').value;
  description = document.getElementById('work-description').value;
  billable = document.getElementById('work-billable').checked;
  // Calculate start and end timestamps
  startDateTime = new Date(`${date}T${startTime}`);
  endDateTime = new Date(`${date}T${endTime}`);
  // Handle end time on next day
  if (endDateTime < startDateTime) {
    endDateTime.setDate(endDateTime.getDate() + 1);
  }
  duration = Math.round((endDateTime - startDateTime) / 1000 / 60); // minutes
  data = {
    worker: worker,
    start_time: startDateTime.toISOString(),
    end_time: endDateTime.toISOString(),
    duration: duration,
    description: description.trim(),
    billable: billable
  };
  try {
    if (id) {
      // Update existing
      response = (await fetch(`/work-logs/${id}`, {
        method: 'PUT',
        headers: {
          'Content-Type': 'application/json'
        },
        body: JSON.stringify(data)
      }));
    } else {
      // Create new
      response = (await fetch('/work-logs', {
        method: 'POST',
        headers: {
          'Content-Type': 'application/json'
        },
        body: JSON.stringify(data)
      }));
    }
    if (response.ok) {
      workModal.style.display = 'none';
      return loadWorkLogs(); // Reload data
    } else {
      error = (await response.json());
      return alert(`Error saving work entry: ${error.error}`);
    }
  } catch (error1) {
    err = error1;
    return alert(`Error saving work entry: ${err.message}`);
  }
});

// Delete confirmation
document.getElementById('confirm-delete').addEventListener('click', async function() {
  var err, error, id, response;
  id = document.getElementById('delete-work-id').value;
  try {
    response = (await fetch(`/work-logs/${id}`, {
      method: 'DELETE'
    }));
    if (response.ok) {
      deleteModal.style.display = 'none';
      return loadWorkLogs(); // Reload data
    } else {
      error = (await response.json());
      return alert(`Error deleting work entry: ${error.error}`);
    }
  } catch (error1) {
    err = error1;
    return alert(`Error deleting work entry: ${err.message}`);
  }
});

document.getElementById('cancel-delete').addEventListener('click', function() {
  return deleteModal.style.display = 'none';
});

// Helper functions
escapeHtml = function(text) {
  var div;
  div = document.createElement('div');
  div.textContent = text;
  return div.innerHTML;
};

formatCurrency = function(amount) {
  return new Intl.NumberFormat('en-US', {
    style: 'currency',
    currency: 'USD'
  }).format(amount);
};

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoid29yay5qcyIsInNvdXJjZVJvb3QiOiIuLi8uLi8iLCJzb3VyY2VzIjpbInN0YXRpYy9jb2ZmZWUvd29yay5jb2ZmZWUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUEyQjtBQUFBLElBQUEsVUFBQSxFQUFBLFdBQUEsRUFBQSxZQUFBLEVBQUEsYUFBQSxFQUFBLFdBQUEsRUFBQSxVQUFBLEVBQUEsWUFBQSxFQUFBLGNBQUEsRUFBQSxZQUFBLEVBQUEsYUFBQSxFQUFBLFdBQUEsRUFBQSxRQUFBLEVBQUE7O0FBRTNCLFdBQUEsR0FBYzs7QUFDZCxZQUFBLEdBQWUsR0FIWTs7O0FBTTNCLE1BQU0sQ0FBQyxnQkFBUCxDQUF3QixNQUF4QixFQUFnQyxRQUFBLENBQUEsQ0FBQTtFQUM5QixZQUFBLENBQUEsRUFBRjs7U0FHRSxRQUFRLENBQUMsY0FBVCxDQUF3QixXQUF4QixDQUFvQyxDQUFDLEtBQXJDLEdBQTZDLElBQUksSUFBSixDQUFBLENBQVUsQ0FBQyxXQUFYLENBQUEsQ0FBd0IsQ0FBQyxLQUF6QixDQUErQixHQUEvQixDQUFtQyxDQUFDLENBQUQ7QUFKbEQsQ0FBaEMsRUFOMkI7OztBQWEzQixZQUFBLEdBQWUsTUFBQSxRQUFBLENBQUEsQ0FBQTtBQUNmLE1BQUEsR0FBQSxFQUFBO0FBQUU7SUFDRSxRQUFBLEdBQVcsQ0FBQSxNQUFNLEtBQUEsQ0FBTSx1QkFBTixDQUFOO0lBQ1gsV0FBQSxHQUFjLENBQUEsTUFBTSxRQUFRLENBQUMsSUFBVCxDQUFBLENBQU47V0FDZCxZQUFBLENBQUEsRUFIRjtHQUlBLGNBQUE7SUFBTTtJQUNKLE9BQU8sQ0FBQyxLQUFSLENBQWMsMEJBQWQsRUFBMEMsR0FBMUM7V0FDQSxRQUFRLENBQUMsY0FBVCxDQUF3QixpQkFBeEIsQ0FBMEMsQ0FBQyxTQUEzQyxHQUNFLG9GQUhKOztBQUxhLEVBYlk7OztBQXdCM0IsWUFBQSxHQUFlLFFBQUEsQ0FBQSxDQUFBO0FBQ2YsTUFBQSxXQUFBLEVBQUE7RUFBRSxZQUFBLEdBQWUs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O0FBQ2IsTUFBQTtFQUFFLEdBQUEsR0FBTSxRQUFRLENBQUMsYUFBVCxDQUF1QixLQUF2QjtFQUNOLEdBQUcsQ0FBQyxXQUFKLEdBQWtCO1NBQ2xCLEdBQUcsQ0FBQztBQUhPOztBQUtiLGNBQUEsR0FBaUIsUUFBQSxDQUFDLE1BQUQsQ0FBQTtTQUNmLElBQUksSUFBSSxDQUFDLFlBQVQsQ0FBc0IsT0FBdEIsRUFDRTtJQUFBLEtBQUEsRUFBTyxVQUFQO0lBQ0EsUUFBQSxFQUFVO0VBRFYsQ0FERixDQUdDLENBQUMsTUFIRixDQUdTLE1BSFQ7QUFEZSIsInNvdXJjZXNDb250ZW50IjpbIiMgc3RhdGljL2NvZmZlZS93b3JrLmNvZmZlZVxuXG5hbGxXb3JrTG9ncyA9IFtdXG5maWx0ZXJlZExvZ3MgPSBbXVxuXG4jIExvYWQgd29yayBsb2dzIG9uIHBhZ2UgbG9hZFxud2luZG93LmFkZEV2ZW50TGlzdGVuZXIgJ2xvYWQnLCAtPlxuICBsb2FkV29ya0xvZ3MoKVxuXG4gICMgU2V0IGRlZmF1bHQgZGF0ZSB0byB0b2RheVxuICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnd29yay1kYXRlJykudmFsdWUgPSBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCkuc3BsaXQoJ1QnKVswXVxuXG4jIExvYWQgYW5kIGRpc3BsYXkgd29yayBsb2dzXG5sb2FkV29ya0xvZ3MgPSAtPlxuICB0cnlcbiAgICByZXNwb25zZSA9IGF3YWl0IGZldGNoICcvd29yay1sb2dzP2xpbWl0PTEwMDAnXG4gICAgYWxsV29ya0xvZ3MgPSBhd2FpdCByZXNwb25zZS5qc29uKClcbiAgICBhcHBseUZpbHRlcnMoKVxuICBjYXRjaCBlcnJcbiAgICBjb25zb2xlLmVycm9yICdFcnJvciBsb2FkaW5nIHdvcmsgbG9nczonLCBlcnJcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnd29yay10YWJsZS1ib2R5JykuaW5uZXJIVE1MID1cbiAgICAgICc8dHI+PHRkIGNvbHNwYW49XCI1XCIgc3R5bGU9XCJ0ZXh0LWFsaWduOiBjZW50ZXI7XCI+RXJyb3IgbG9hZGluZyB3b3JrIGxvZ3M8L3RkPjwvdHI+J1xuXG4jIEFwcGx5IGZpbHRlcnMgYW5kIHVwZGF0ZSBkaXNwbGF5XG5hcHBseUZpbHRlcnMgPSAtPlxuICB3b3JrZXJGaWx0ZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnd29ya2VyLWZpbHRlcicpLnZhbHVlXG4gIG1vbnRoRmlsdGVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21vbnRoLWZpbHRlcicpLnZhbHVlXG5cbiAgZmlsdGVyZWRMb2dzID0gYWxsV29ya0xvZ3MuZmlsdGVyIChsb2cpIC0+XG4gICAgIyBXb3JrZXIgZmlsdGVyXG4gICAgcmV0dXJuIGZhbHNlIGlmIHdvcmtlckZpbHRlciBhbmQgbG9nLndvcmtlciBpc250IHdvcmtlckZpbHRlclxuXG4gICAgIyBNb250aCBmaWx0ZXJcbiAgICBpZiBtb250aEZpbHRlclxuICAgICAgbG9nRGF0ZSA9IG5ldyBEYXRlIGxvZy5zdGFydF90aW1lXG4gICAgICBsb2dNb250aCA9IFwiI3tsb2dEYXRlLmdldEZ1bGxZZWFyKCl9LSN7U3RyaW5nKGxvZ0RhdGUuZ2V0TW9udGgoKSArIDEpLnBhZFN0YXJ0KDIsICcwJyl9XCJcbiAgICAgIHJldHVybiBmYWxzZSBpZiBsb2dNb250aCBpc250IG1vbnRoRmlsdGVyXG5cbiAgICB0cnVlXG5cbiAgdXBkYXRlRGlzcGxheSgpXG4gIHVwZGF0ZVN0YXRzKClcblxuIyBVcGRhdGUgdGhlIHdvcmsgbG9ncyB0YWJsZVxudXBkYXRlRGlzcGxheSA9IC0+XG4gIHRib2R5ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQgJ3dvcmstdGFibGUtYm9keSdcblxuICBpZiBmaWx0ZXJlZExvZ3MubGVuZ3RoIGlzIDBcbiAgICB0Ym9keS5pbm5lckhUTUwgPSAnPHRyPjx0ZCBjb2xzcGFuPVwiNVwiIHN0eWxlPVwidGV4dC1hbGlnbjogY2VudGVyO1wiPk5vIHdvcmsgZW50cmllcyBmb3VuZDwvdGQ+PC90cj4nXG4gICAgcmV0dXJuXG5cbiAgdGJvZHkuaW5uZXJIVE1MID0gZmlsdGVyZWRMb2dzLm1hcCgobG9nKSAtPlxuICAgIHN0YXJ0VGltZSA9IG5ldyBEYXRlIGxvZy5zdGFydF90aW1lXG4gICAgZGF0ZSA9IHN0YXJ0VGltZS50b0xvY2FsZURhdGVTdHJpbmcoKVxuICAgIHRpbWUgPSBzdGFydFRpbWUudG9Mb2NhbGVUaW1lU3RyaW5nIFtdLCBob3VyOiAnMi1kaWdpdCcsIG1pbnV0ZTogJzItZGlnaXQnXG4gICAgaG91cnMgPSAobG9nLmR1cmF0aW9uIC8gNjApLnRvRml4ZWQgMlxuXG4gICAgXCJcIlwiXG4gICAgICA8dHI+XG4gICAgICAgIDx0ZD4je2RhdGV9ICN7dGltZX08L3RkPlxuICAgICAgICA8dGQ+I3tsb2cud29ya2VyfTwvdGQ+XG4gICAgICAgIDx0ZD4je2hvdXJzfSBob3VyczwvdGQ+XG4gICAgICAgIDx0ZD4je2VzY2FwZUh0bWwgbG9nLmRlc2NyaXB0aW9ufTwvdGQ+XG4gICAgICAgIDx0ZCBjbGFzcz1cImFjdGlvbnNcIj5cbiAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwiYnRuIGJ0bi1zZWNvbmRhcnlcIiBvbmNsaWNrPVwiZWRpdFdvcmsoJyN7bG9nLmlkfScpXCI+RWRpdDwvYnV0dG9uPlxuICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJidG4gYnRuLWRhbmdlclwiIG9uY2xpY2s9XCJkZWxldGVXb3JrKCcje2xvZy5pZH0nKVwiPkRlbGV0ZTwvYnV0dG9uPlxuICAgICAgICA8L3RkPlxuICAgICAgPC90cj5cbiAgICBcIlwiXCJcbiAgKS5qb2luICcnXG5cbiMgVXBkYXRlIHN0YXRpc3RpY3NcbnVwZGF0ZVN0YXRzID0gLT5cbiAgdG90YWxFbnRyaWVzID0gZmlsdGVyZWRMb2dzLmxlbmd0aFxuICB0b3RhbE1pbnV0ZXMgPSBmaWx0ZXJlZExvZ3MucmVkdWNlICgoc3VtLCBsb2cpIC0+IHN1bSArIGxvZy5kdXJhdGlvbiksIDBcbiAgdG90YWxIb3VycyA9IHRvdGFsTWludXRlcyAvIDYwXG4gIHRvdGFsQ3JlZGl0ID0gZmlsdGVyZWRMb2dzXG4gICAgLmZpbHRlciAobG9nKSAtPiBsb2cuYmlsbGFibGUgYW5kIGxvZy53b3JrZXIgaXMgJ2x5bmR6aWUnXG4gICAgLnJlZHVjZSAoKHN1bSwgbG9nKSAtPiBzdW0gKyAobG9nLmR1cmF0aW9uIC8gNjAgKiA1MCkpLCAwXG5cbiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3RvdGFsLWVudHJpZXMnKS50ZXh0Q29udGVudCA9IHRvdGFsRW50cmllc1xuICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndG90YWwtaG91cnMnKS50ZXh0Q29udGVudCA9IHRvdGFsSG91cnMudG9GaXhlZCAyXG4gIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0b3RhbC1jcmVkaXQnKS50ZXh0Q29udGVudCA9IGZvcm1hdEN1cnJlbmN5IHRvdGFsQ3JlZGl0XG5cbiMgRmlsdGVyIGV2ZW50IGxpc3RlbmVyc1xuZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3dvcmtlci1maWx0ZXInKS5hZGRFdmVudExpc3RlbmVyICdjaGFuZ2UnLCBhcHBseUZpbHRlcnNcbmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtb250aC1maWx0ZXInKS5hZGRFdmVudExpc3RlbmVyICdjaGFuZ2UnLCBhcHBseUZpbHRlcnNcbmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjbGVhci1maWx0ZXJzJykuYWRkRXZlbnRMaXN0ZW5lciAnY2xpY2snLCAtPlxuICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnd29ya2VyLWZpbHRlcicpLnZhbHVlID0gJydcbiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21vbnRoLWZpbHRlcicpLnZhbHVlID0gJydcbiAgYXBwbHlGaWx0ZXJzKClcblxuIyBNb2RhbCBoYW5kbGluZ1xud29ya01vZGFsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQgJ3dvcmstbW9kYWwnXG5kZWxldGVNb2RhbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkICdkZWxldGUtbW9kYWwnXG5hZGRXb3JrQnRuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQgJ2FkZC13b3JrLWJ0bidcbmNhbmNlbFdvcmtCdG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCAnY2FuY2VsLXdvcmsnXG53b3JrRm9ybSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkICd3b3JrLWZvcm0nXG5cbiMgQWRkIHdvcmsgYnV0dG9uXG5hZGRXb3JrQnRuLmFkZEV2ZW50TGlzdGVuZXIgJ2NsaWNrJywgLT5cbiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21vZGFsLXRpdGxlJykudGV4dENvbnRlbnQgPSAnQWRkIFdvcmsgRW50cnknXG4gIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd3b3JrLWZvcm0nKS5yZXNldCgpXG4gIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd3b3JrLWlkJykudmFsdWUgPSAnJ1xuICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnd29yay1kYXRlJykudmFsdWUgPSBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCkuc3BsaXQoJ1QnKVswXVxuICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnd29yay1iaWxsYWJsZScpLmNoZWNrZWQgPSB0cnVlXG4gIHdvcmtNb2RhbC5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJ1xuXG4jIENhbmNlbCBidXR0b25cbmNhbmNlbFdvcmtCdG4uYWRkRXZlbnRMaXN0ZW5lciAnY2xpY2snLCAtPlxuICB3b3JrTW9kYWwuc3R5bGUuZGlzcGxheSA9ICdub25lJ1xuXG4jIEVkaXQgd29yayBmdW5jdGlvblxud2luZG93LmVkaXRXb3JrID0gKGlkKSAtPlxuICBsb2cgPSBhbGxXb3JrTG9ncy5maW5kIChsKSAtPiBsLmlkIGlzIGlkXG4gIHJldHVybiB1bmxlc3MgbG9nXG5cbiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21vZGFsLXRpdGxlJykudGV4dENvbnRlbnQgPSAnRWRpdCBXb3JrIEVudHJ5J1xuICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnd29yay1pZCcpLnZhbHVlID0gbG9nLmlkXG4gIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd3b3JrLXdvcmtlcicpLnZhbHVlID0gbG9nLndvcmtlclxuXG4gIHN0YXJ0RGF0ZSA9IG5ldyBEYXRlIGxvZy5zdGFydF90aW1lXG4gIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd3b3JrLWRhdGUnKS52YWx1ZSA9IHN0YXJ0RGF0ZS50b0lTT1N0cmluZygpLnNwbGl0KCdUJylbMF1cbiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3dvcmstc3RhcnQtdGltZScpLnZhbHVlID1cbiAgICBzdGFydERhdGUudG9UaW1lU3RyaW5nKCkuc2xpY2UgMCwgNVxuXG4gIGVuZERhdGUgPSBuZXcgRGF0ZSBsb2cuZW5kX3RpbWVcbiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3dvcmstZW5kLXRpbWUnKS52YWx1ZSA9XG4gICAgZW5kRGF0ZS50b1RpbWVTdHJpbmcoKS5zbGljZSAwLCA1XG5cbiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3dvcmstZGVzY3JpcHRpb24nKS52YWx1ZSA9IGxvZy5kZXNjcmlwdGlvblxuICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnd29yay1iaWxsYWJsZScpLmNoZWNrZWQgPSBsb2cuYmlsbGFibGUgaXNudCBmYWxzZVxuXG4gIHdvcmtNb2RhbC5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJ1xuXG4jIERlbGV0ZSB3b3JrIGZ1bmN0aW9uXG53aW5kb3cuZGVsZXRlV29yayA9IChpZCkgLT5cbiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2RlbGV0ZS13b3JrLWlkJykudmFsdWUgPSBpZFxuICBkZWxldGVNb2RhbC5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJ1xuXG4jIFdvcmsgZm9ybSBzdWJtaXNzaW9uXG53b3JrRm9ybS5hZGRFdmVudExpc3RlbmVyICdzdWJtaXQnLCAoZSkgLT5cbiAgZS5wcmV2ZW50RGVmYXVsdCgpXG5cbiAgaWQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnd29yay1pZCcpLnZhbHVlXG4gIHdvcmtlciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd3b3JrLXdvcmtlcicpLnZhbHVlXG4gIGRhdGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnd29yay1kYXRlJykudmFsdWVcbiAgc3RhcnRUaW1lID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3dvcmstc3RhcnQtdGltZScpLnZhbHVlXG4gIGVuZFRpbWUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnd29yay1lbmQtdGltZScpLnZhbHVlXG4gIGRlc2NyaXB0aW9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3dvcmstZGVzY3JpcHRpb24nKS52YWx1ZVxuICBiaWxsYWJsZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd3b3JrLWJpbGxhYmxlJykuY2hlY2tlZFxuXG4gICMgQ2FsY3VsYXRlIHN0YXJ0IGFuZCBlbmQgdGltZXN0YW1wc1xuICBzdGFydERhdGVUaW1lID0gbmV3IERhdGUgXCIje2RhdGV9VCN7c3RhcnRUaW1lfVwiXG4gIGVuZERhdGVUaW1lID0gbmV3IERhdGUgXCIje2RhdGV9VCN7ZW5kVGltZX1cIlxuXG4gICMgSGFuZGxlIGVuZCB0aW1lIG9uIG5leHQgZGF5XG4gIGlmIGVuZERhdGVUaW1lIDwgc3RhcnREYXRlVGltZVxuICAgIGVuZERhdGVUaW1lLnNldERhdGUgZW5kRGF0ZVRpbWUuZ2V0RGF0ZSgpICsgMVxuXG4gIGR1cmF0aW9uID0gTWF0aC5yb3VuZCAoZW5kRGF0ZVRpbWUgLSBzdGFydERhdGVUaW1lKSAvIDEwMDAgLyA2MCAgIyBtaW51dGVzXG5cbiAgZGF0YSA9XG4gICAgd29ya2VyOiB3b3JrZXJcbiAgICBzdGFydF90aW1lOiBzdGFydERhdGVUaW1lLnRvSVNPU3RyaW5nKClcbiAgICBlbmRfdGltZTogZW5kRGF0ZVRpbWUudG9JU09TdHJpbmcoKVxuICAgIGR1cmF0aW9uOiBkdXJhdGlvblxuICAgIGRlc2NyaXB0aW9uOiBkZXNjcmlwdGlvbi50cmltKClcbiAgICBiaWxsYWJsZTogYmlsbGFibGVcblxuICB0cnlcbiAgICBpZiBpZFxuICAgICAgIyBVcGRhdGUgZXhpc3RpbmdcbiAgICAgIHJlc3BvbnNlID0gYXdhaXQgZmV0Y2ggXCIvd29yay1sb2dzLyN7aWR9XCIsXG4gICAgICAgIG1ldGhvZDogJ1BVVCdcbiAgICAgICAgaGVhZGVyczogJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJ1xuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSBkYXRhXG4gICAgZWxzZVxuICAgICAgIyBDcmVhdGUgbmV3XG4gICAgICByZXNwb25zZSA9IGF3YWl0IGZldGNoICcvd29yay1sb2dzJyxcbiAgICAgICAgbWV0aG9kOiAnUE9TVCdcbiAgICAgICAgaGVhZGVyczogJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJ1xuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSBkYXRhXG5cbiAgICBpZiByZXNwb25zZS5va1xuICAgICAgd29ya01vZGFsLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSdcbiAgICAgIGxvYWRXb3JrTG9ncygpICAjIFJlbG9hZCBkYXRhXG4gICAgZWxzZVxuICAgICAgZXJyb3IgPSBhd2FpdCByZXNwb25zZS5qc29uKClcbiAgICAgIGFsZXJ0IFwiRXJyb3Igc2F2aW5nIHdvcmsgZW50cnk6ICN7ZXJyb3IuZXJyb3J9XCJcbiAgY2F0Y2ggZXJyXG4gICAgYWxlcnQgXCJFcnJvciBzYXZpbmcgd29yayBlbnRyeTogI3tlcnIubWVzc2FnZX1cIlxuXG4jIERlbGV0ZSBjb25maXJtYXRpb25cbmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjb25maXJtLWRlbGV0ZScpLmFkZEV2ZW50TGlzdGVuZXIgJ2NsaWNrJywgLT5cbiAgaWQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGVsZXRlLXdvcmstaWQnKS52YWx1ZVxuXG4gIHRyeVxuICAgIHJlc3BvbnNlID0gYXdhaXQgZmV0Y2ggXCIvd29yay1sb2dzLyN7aWR9XCIsXG4gICAgICBtZXRob2Q6ICdERUxFVEUnXG5cbiAgICBpZiByZXNwb25zZS5va1xuICAgICAgZGVsZXRlTW9kYWwuc3R5bGUuZGlzcGxheSA9ICdub25lJ1xuICAgICAgbG9hZFdvcmtMb2dzKCkgICMgUmVsb2FkIGRhdGFcbiAgICBlbHNlXG4gICAgICBlcnJvciA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKVxuICAgICAgYWxlcnQgXCJFcnJvciBkZWxldGluZyB3b3JrIGVudHJ5OiAje2Vycm9yLmVycm9yfVwiXG4gIGNhdGNoIGVyclxuICAgIGFsZXJ0IFwiRXJyb3IgZGVsZXRpbmcgd29yayBlbnRyeTogI3tlcnIubWVzc2FnZX1cIlxuXG5kb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2FuY2VsLWRlbGV0ZScpLmFkZEV2ZW50TGlzdGVuZXIgJ2NsaWNrJywgLT5cbiAgZGVsZXRlTW9kYWwuc3R5bGUuZGlzcGxheSA9ICdub25lJ1xuXG4jIEhlbHBlciBmdW5jdGlvbnNcbmVzY2FwZUh0bWwgPSAodGV4dCkgLT5cbiAgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCAnZGl2J1xuICBkaXYudGV4dENvbnRlbnQgPSB0ZXh0XG4gIGRpdi5pbm5lckhUTUxcblxuZm9ybWF0Q3VycmVuY3kgPSAoYW1vdW50KSAtPlxuICBuZXcgSW50bC5OdW1iZXJGb3JtYXQoJ2VuLVVTJyxcbiAgICBzdHlsZTogJ2N1cnJlbmN5J1xuICAgIGN1cnJlbmN5OiAnVVNEJ1xuICApLmZvcm1hdCBhbW91bnQiXX0=
//# sourceURL=/mnt/nvme0n1p4/git/github/rdeforest/RentCoordinator/static/coffee/work.coffee