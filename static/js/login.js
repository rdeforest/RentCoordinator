// Generated by CoffeeScript 2.7.0
// static/coffee/login.coffee

// DOM elements
var checkAuthStatus, codeInput, currentEmail, emailForm, emailInput, emailStep, handleBackToEmail, handleEmailSubmit, handleVerifySubmit, messageDiv, showMessage, showVerifyStep, verifyForm, verifyStep;

emailForm = null;

verifyForm = null;

emailStep = null;

verifyStep = null;

emailInput = null;

codeInput = null;

messageDiv = null;

currentEmail = null;

// Initialize on DOM load
document.addEventListener('DOMContentLoaded', function() {
  var backLink;
  emailForm = document.getElementById('emailForm');
  verifyForm = document.getElementById('verifyForm');
  emailStep = document.getElementById('emailStep');
  verifyStep = document.getElementById('verifyStep');
  emailInput = document.getElementById('email');
  codeInput = document.getElementById('code');
  messageDiv = document.getElementById('message');
  backLink = document.getElementById('backToEmail');
  // Set up event listeners
  emailForm.addEventListener('submit', handleEmailSubmit);
  verifyForm.addEventListener('submit', handleVerifySubmit);
  backLink.addEventListener('click', handleBackToEmail);
  // Check if already authenticated
  return checkAuthStatus();
});

// Check if user is already authenticated
checkAuthStatus = async function() {
  var data, err, response;
  try {
    response = (await fetch('/auth/status'));
    data = (await response.json());
    if (data.authenticated) {
      // Already logged in, redirect to home
      return window.location.href = '/';
    }
  } catch (error) {
    err = error;
    return console.error('Auth check failed:', err);
  }
};

// Handle email form submission
handleEmailSubmit = async function(e) {
  var data, email, err, response;
  e.preventDefault();
  email = emailInput.value.trim();
  if (!email) {
    return showMessage('Please enter your email address', 'error');
  }
  currentEmail = email;
  // Disable form
  emailForm.querySelector('button').disabled = true;
  showMessage('Sending verification code...', 'success');
  try {
    response = (await fetch('/auth/send-code', {
      method: 'POST',
      headers: {
        'Content-Type': 'application/json'
      },
      body: JSON.stringify({
        email: email
      })
    }));
    data = (await response.json());
    if (response.ok) {
      showMessage('Verification code sent! Check your email (or console in dev mode)', 'success');
      return showVerifyStep();
    } else {
      showMessage(data.error || 'Failed to send code', 'error');
      return emailForm.querySelector('button').disabled = false;
    }
  } catch (error) {
    err = error;
    console.error('Send code error:', err);
    showMessage('Network error. Please try again.', 'error');
    return emailForm.querySelector('button').disabled = false;
  }
};

// Handle verification form submission
handleVerifySubmit = async function(e) {
  var code, data, err, response;
  e.preventDefault();
  code = codeInput.value.trim();
  if (!code || code.length !== 6) {
    return showMessage('Please enter the 6-digit code', 'error');
  }
  // Disable form
  verifyForm.querySelector('button').disabled = true;
  showMessage('Verifying code...', 'success');
  try {
    response = (await fetch('/auth/verify-code', {
      method: 'POST',
      headers: {
        'Content-Type': 'application/json'
      },
      body: JSON.stringify({
        email: currentEmail,
        code: code
      })
    }));
    data = (await response.json());
    if (response.ok) {
      showMessage('Success! Redirecting...', 'success');
      // Redirect to home page after a brief delay
      return setTimeout((function() {
        return window.location.href = '/';
      }), 1000);
    } else {
      showMessage(data.error || 'Invalid or expired code', 'error');
      verifyForm.querySelector('button').disabled = false;
      codeInput.value = '';
      return codeInput.focus();
    }
  } catch (error) {
    err = error;
    console.error('Verify code error:', err);
    showMessage('Network error. Please try again.', 'error');
    return verifyForm.querySelector('button').disabled = false;
  }
};

// Show verify step
showVerifyStep = function() {
  emailStep.style.display = 'none';
  verifyStep.style.display = 'block';
  codeInput.value = '';
  return codeInput.focus();
};

// Back to email entry
handleBackToEmail = function(e) {
  e.preventDefault();
  emailStep.style.display = 'block';
  verifyStep.style.display = 'none';
  emailForm.querySelector('button').disabled = false;
  emailInput.focus();
  return showMessage('', '');
};

// Show message to user
showMessage = function(text, type) {
  if (!text) {
    messageDiv.innerHTML = '';
    messageDiv.className = 'message';
    return;
  }
  messageDiv.textContent = text;
  return messageDiv.className = `message ${type}`;
};

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibG9naW4uanMiLCJzb3VyY2VSb290IjoiLi4vLi4vIiwic291cmNlcyI6WyJzdGF0aWMvY29mZmVlL2xvZ2luLmNvZmZlZSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBRWM7OztBQUFBLElBQUEsZUFBQSxFQUFBLFNBQUEsRUFBQSxZQUFBLEVBQUEsU0FBQSxFQUFBLFVBQUEsRUFBQSxTQUFBLEVBQUEsaUJBQUEsRUFBQSxpQkFBQSxFQUFBLGtCQUFBLEVBQUEsVUFBQSxFQUFBLFdBQUEsRUFBQSxjQUFBLEVBQUEsVUFBQSxFQUFBOztBQUNkLFNBQUEsR0FBYzs7QUFDZCxVQUFBLEdBQWM7O0FBQ2QsU0FBQSxHQUFjOztBQUNkLFVBQUEsR0FBYzs7QUFDZCxVQUFBLEdBQWM7O0FBQ2QsU0FBQSxHQUFjOztBQUNkLFVBQUEsR0FBYzs7QUFFZCxZQUFBLEdBQWUsS0FURDs7O0FBYWQsUUFBUSxDQUFDLGdCQUFULENBQTBCLGtCQUExQixFQUE4QyxRQUFBLENBQUEsQ0FBQTtBQUM5QyxNQUFBO0VBQUUsU0FBQSxHQUFhLFFBQVEsQ0FBQyxjQUFULENBQXdCLFdBQXhCO0VBQ2IsVUFBQSxHQUFhLFFBQVEsQ0FBQyxjQUFULENBQXdCLFlBQXhCO0VBQ2IsU0FBQSxHQUFhLFFBQVEsQ0FBQyxjQUFULENBQXdCLFdBQXhCO0VBQ2IsVUFBQSxHQUFhLFFBQVEsQ0FBQyxjQUFULENBQXdCLFlBQXhCO0VBQ2IsVUFBQSxHQUFhLFFBQVEsQ0FBQyxjQUFULENBQXdCLE9BQXhCO0VBQ2IsU0FBQSxHQUFhLFFBQVEsQ0FBQyxjQUFULENBQXdCLE1BQXhCO0VBQ2IsVUFBQSxHQUFhLFFBQVEsQ0FBQyxjQUFULENBQXdCLFNBQXhCO0VBRWIsUUFBQSxHQUFXLFFBQVEsQ0FBQyxjQUFULENBQXdCLGFBQXhCLEVBUmI7O0VBV0UsU0FBUyxDQUFDLGdCQUFWLENBQTRCLFFBQTVCLEVBQXNDLGlCQUF0QztFQUNBLFVBQVUsQ0FBQyxnQkFBWCxDQUE0QixRQUE1QixFQUFzQyxrQkFB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Q0FBQyxjQUFGLENBQUE7RUFDQSxTQUFTLENBQUMsS0FBSyxDQUFDLE9BQWhCLEdBQTJCO0VBQzNCLFVBQVUsQ0FBQyxLQUFLLENBQUMsT0FBakIsR0FBMkI7RUFDM0IsU0FBUyxDQUFDLGFBQVYsQ0FBd0IsUUFBeEIsQ0FBaUMsQ0FBQyxRQUFsQyxHQUE2QztFQUM3QyxVQUFVLENBQUMsS0FBWCxDQUFBO1NBQ0EsV0FBQSxDQUFZLEVBQVosRUFBZ0IsRUFBaEI7QUFOa0IsRUE5SE47OztBQXdJZCxXQUFBLEdBQWMsUUFBQSxDQUFDLElBQUQsRUFBTyxJQUFQLENBQUE7RUFDWixJQUFHLENBQUksSUFBUDtJQUNFLFVBQVUsQ0FBQyxTQUFYLEdBQXVCO0lBQ3ZCLFVBQVUsQ0FBQyxTQUFYLEdBQXVCO0FBQ3ZCLFdBSEY7O0VBS0EsVUFBVSxDQUFDLFdBQVgsR0FBeUI7U0FDekIsVUFBVSxDQUFDLFNBQVgsR0FBdUIsQ0FBQSxRQUFBLENBQUEsQ0FBVyxJQUFYLENBQUE7QUFQWCIsInNvdXJjZXNDb250ZW50IjpbIiMgc3RhdGljL2NvZmZlZS9sb2dpbi5jb2ZmZWVcblxuIyBET00gZWxlbWVudHNcbmVtYWlsRm9ybSAgID0gbnVsbFxudmVyaWZ5Rm9ybSAgPSBudWxsXG5lbWFpbFN0ZXAgICA9IG51bGxcbnZlcmlmeVN0ZXAgID0gbnVsbFxuZW1haWxJbnB1dCAgPSBudWxsXG5jb2RlSW5wdXQgICA9IG51bGxcbm1lc3NhZ2VEaXYgID0gbnVsbFxuXG5jdXJyZW50RW1haWwgPSBudWxsXG5cblxuIyBJbml0aWFsaXplIG9uIERPTSBsb2FkXG5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyICdET01Db250ZW50TG9hZGVkJywgLT5cbiAgZW1haWxGb3JtICA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlbWFpbEZvcm0nKVxuICB2ZXJpZnlGb3JtID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3ZlcmlmeUZvcm0nKVxuICBlbWFpbFN0ZXAgID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VtYWlsU3RlcCcpXG4gIHZlcmlmeVN0ZXAgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndmVyaWZ5U3RlcCcpXG4gIGVtYWlsSW5wdXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZW1haWwnKVxuICBjb2RlSW5wdXQgID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NvZGUnKVxuICBtZXNzYWdlRGl2ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21lc3NhZ2UnKVxuXG4gIGJhY2tMaW5rID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2JhY2tUb0VtYWlsJylcblxuICAjIFNldCB1cCBldmVudCBsaXN0ZW5lcnNcbiAgZW1haWxGb3JtLmFkZEV2ZW50TGlzdGVuZXIgICdzdWJtaXQnLCBoYW5kbGVFbWFpbFN1Ym1pdFxuICB2ZXJpZnlGb3JtLmFkZEV2ZW50TGlzdGVuZXIgJ3N1Ym1pdCcsIGhhbmRsZVZlcmlmeVN1Ym1pdFxuICBiYWNrTGluay5hZGRFdmVudExpc3RlbmVyICAgJ2NsaWNrJywgIGhhbmRsZUJhY2tUb0VtYWlsXG5cbiAgIyBDaGVjayBpZiBhbHJlYWR5IGF1dGhlbnRpY2F0ZWRcbiAgY2hlY2tBdXRoU3RhdHVzKClcblxuXG4jIENoZWNrIGlmIHVzZXIgaXMgYWxyZWFkeSBhdXRoZW50aWNhdGVkXG5jaGVja0F1dGhTdGF0dXMgPSAtPlxuICB0cnlcbiAgICByZXNwb25zZSA9IGF3YWl0IGZldGNoKCcvYXV0aC9zdGF0dXMnKVxuICAgIGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKClcblxuICAgIGlmIGRhdGEuYXV0aGVudGljYXRlZFxuICAgICAgIyBBbHJlYWR5IGxvZ2dlZCBpbiwgcmVkaXJlY3QgdG8gaG9tZVxuICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSAnLydcbiAgY2F0Y2ggZXJyXG4gICAgY29uc29sZS5lcnJvciAnQXV0aCBjaGVjayBmYWlsZWQ6JywgZXJyXG5cblxuIyBIYW5kbGUgZW1haWwgZm9ybSBzdWJtaXNzaW9uXG5oYW5kbGVFbWFpbFN1Ym1pdCA9IChlKSAtPlxuICBlLnByZXZlbnREZWZhdWx0KClcblxuICBlbWFpbCA9IGVtYWlsSW5wdXQudmFsdWUudHJpbSgpXG4gIGlmIG5vdCBlbWFpbFxuICAgIHJldHVybiBzaG93TWVzc2FnZSAnUGxlYXNlIGVudGVyIHlvdXIgZW1haWwgYWRkcmVzcycsICdlcnJvcidcblxuICBjdXJyZW50RW1haWwgPSBlbWFpbFxuXG4gICMgRGlzYWJsZSBmb3JtXG4gIGVtYWlsRm9ybS5xdWVyeVNlbGVjdG9yKCdidXR0b24nKS5kaXNhYmxlZCA9IHRydWVcbiAgc2hvd01lc3NhZ2UgJ1NlbmRpbmcgdmVyaWZpY2F0aW9uIGNvZGUuLi4nLCAnc3VjY2VzcydcblxuICB0cnlcbiAgICByZXNwb25zZSA9IGF3YWl0IGZldGNoICcvYXV0aC9zZW5kLWNvZGUnLFxuICAgICAgbWV0aG9kOiAnUE9TVCdcbiAgICAgIGhlYWRlcnM6ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbidcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGVtYWlsOiBlbWFpbClcblxuICAgIGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKClcblxuICAgIGlmIHJlc3BvbnNlLm9rXG4gICAgICBzaG93TWVzc2FnZSAnVmVyaWZpY2F0aW9uIGNvZGUgc2VudCEgQ2hlY2sgeW91ciBlbWFpbCAob3IgY29uc29sZSBpbiBkZXYgbW9kZSknLCAnc3VjY2VzcydcbiAgICAgIHNob3dWZXJpZnlTdGVwKClcbiAgICBlbHNlXG4gICAgICBzaG93TWVzc2FnZSBkYXRhLmVycm9yIG9yICdGYWlsZWQgdG8gc2VuZCBjb2RlJywgJ2Vycm9yJ1xuICAgICAgZW1haWxGb3JtLnF1ZXJ5U2VsZWN0b3IoJ2J1dHRvbicpLmRpc2FibGVkID0gZmFsc2VcbiAgY2F0Y2ggZXJyXG4gICAgY29uc29sZS5lcnJvciAnU2VuZCBjb2RlIGVycm9yOicsIGVyclxuICAgIHNob3dNZXNzYWdlICdOZXR3b3JrIGVycm9yLiBQbGVhc2UgdHJ5IGFnYWluLicsICdlcnJvcidcbiAgICBlbWFpbEZvcm0ucXVlcnlTZWxlY3RvcignYnV0dG9uJykuZGlzYWJsZWQgPSBmYWxzZVxuXG5cbiMgSGFuZGxlIHZlcmlmaWNhdGlvbiBmb3JtIHN1Ym1pc3Npb25cbmhhbmRsZVZlcmlmeVN1Ym1pdCA9IChlKSAtPlxuICBlLnByZXZlbnREZWZhdWx0KClcblxuICBjb2RlID0gY29kZUlucHV0LnZhbHVlLnRyaW0oKVxuICBpZiBub3QgY29kZSBvciBjb2RlLmxlbmd0aCBpc250IDZcbiAgICByZXR1cm4gc2hvd01lc3NhZ2UgJ1BsZWFzZSBlbnRlciB0aGUgNi1kaWdpdCBjb2RlJywgJ2Vycm9yJ1xuXG4gICMgRGlzYWJsZSBmb3JtXG4gIHZlcmlmeUZvcm0ucXVlcnlTZWxlY3RvcignYnV0dG9uJykuZGlzYWJsZWQgPSB0cnVlXG4gIHNob3dNZXNzYWdlICdWZXJpZnlpbmcgY29kZS4uLicsICdzdWNjZXNzJ1xuXG4gIHRyeVxuICAgIHJlc3BvbnNlID0gYXdhaXQgZmV0Y2ggJy9hdXRoL3ZlcmlmeS1jb2RlJyxcbiAgICAgIG1ldGhvZDogJ1BPU1QnXG4gICAgICBoZWFkZXJzOiAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeVxuICAgICAgICBlbWFpbDogY3VycmVudEVtYWlsXG4gICAgICAgIGNvZGU6ICBjb2RlXG5cbiAgICBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpXG5cbiAgICBpZiByZXNwb25zZS5va1xuICAgICAgc2hvd01lc3NhZ2UgJ1N1Y2Nlc3MhIFJlZGlyZWN0aW5nLi4uJywgJ3N1Y2Nlc3MnXG4gICAgICAjIFJlZGlyZWN0IHRvIGhvbWUgcGFnZSBhZnRlciBhIGJyaWVmIGRlbGF5XG4gICAgICBzZXRUaW1lb3V0ICgtPiB3aW5kb3cubG9jYXRpb24uaHJlZiA9ICcvJyksIDEwMDBcbiAgICBlbHNlXG4gICAgICBzaG93TWVzc2FnZSBkYXRhLmVycm9yIG9yICdJbnZhbGlkIG9yIGV4cGlyZWQgY29kZScsICdlcnJvcidcbiAgICAgIHZlcmlmeUZvcm0ucXVlcnlTZWxlY3RvcignYnV0dG9uJykuZGlzYWJsZWQgPSBmYWxzZVxuICAgICAgY29kZUlucHV0LnZhbHVlID0gJydcbiAgICAgIGNvZGVJbnB1dC5mb2N1cygpXG4gIGNhdGNoIGVyclxuICAgIGNvbnNvbGUuZXJyb3IgJ1ZlcmlmeSBjb2RlIGVycm9yOicsIGVyclxuICAgIHNob3dNZXNzYWdlICdOZXR3b3JrIGVycm9yLiBQbGVhc2UgdHJ5IGFnYWluLicsICdlcnJvcidcbiAgICB2ZXJpZnlGb3JtLnF1ZXJ5U2VsZWN0b3IoJ2J1dHRvbicpLmRpc2FibGVkID0gZmFsc2VcblxuXG4jIFNob3cgdmVyaWZ5IHN0ZXBcbnNob3dWZXJpZnlTdGVwID0gLT5cbiAgZW1haWxTdGVwLnN0eWxlLmRpc3BsYXkgID0gJ25vbmUnXG4gIHZlcmlmeVN0ZXAuc3R5bGUuZGlzcGxheSA9ICdibG9jaydcbiAgY29kZUlucHV0LnZhbHVlID0gJydcbiAgY29kZUlucHV0LmZvY3VzKClcblxuXG4jIEJhY2sgdG8gZW1haWwgZW50cnlcbmhhbmRsZUJhY2tUb0VtYWlsID0gKGUpIC0+XG4gIGUucHJldmVudERlZmF1bHQoKVxuICBlbWFpbFN0ZXAuc3R5bGUuZGlzcGxheSAgPSAnYmxvY2snXG4gIHZlcmlmeVN0ZXAuc3R5bGUuZGlzcGxheSA9ICdub25lJ1xuICBlbWFpbEZvcm0ucXVlcnlTZWxlY3RvcignYnV0dG9uJykuZGlzYWJsZWQgPSBmYWxzZVxuICBlbWFpbElucHV0LmZvY3VzKClcbiAgc2hvd01lc3NhZ2UgJycsICcnXG5cblxuIyBTaG93IG1lc3NhZ2UgdG8gdXNlclxuc2hvd01lc3NhZ2UgPSAodGV4dCwgdHlwZSkgLT5cbiAgaWYgbm90IHRleHRcbiAgICBtZXNzYWdlRGl2LmlubmVySFRNTCA9ICcnXG4gICAgbWVzc2FnZURpdi5jbGFzc05hbWUgPSAnbWVzc2FnZSdcbiAgICByZXR1cm5cblxuICBtZXNzYWdlRGl2LnRleHRDb250ZW50ID0gdGV4dFxuICBtZXNzYWdlRGl2LmNsYXNzTmFtZSA9IFwibWVzc2FnZSAje3R5cGV9XCJcbiJdfQ==
//# sourceURL=/mnt/nvme0n1p4/git/github/rdeforest/RentCoordinator/static/coffee/login.coffee